<!DOCTYPE html><html lang=zh-CN><head><meta charset=UTF-8><meta content="ie=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=Content-Type><meta content="width=device-width,initial-scale=1,user-scalable=no" name=viewport><title>åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ | boycot</title><meta content="Astro, åˆ†äº«, åšå®¢" name=keywords><meta content=åˆ©ç”¨é˜¿é‡ŒAntviså‡ºå“çš„Gåº•å±‚å›¾å½¢æ¸²æŸ“å™¨ï¼Œç»“åˆAudioContextæä¾›çš„éŸ³é¢‘æ•°æ®è·å–APIï¼Œå®ç°å‡ºç±»ä¼¼ç½‘æ˜“äº‘æ’­æ”¾éŸ³é¢‘ç‰¹æ•ˆã€‚é¡¹ç›®åœ°å€ï¼šâš¡GithubğŸ’¡Demoå…³äºGæ¸²æŸ“å™¨Gæ˜¯ä¸€æ¬¾æ˜“ç”¨ã€é«˜æ•ˆã€å¼ºå¤§çš„2Då¯è§†åŒ–æ¸²æŸ“å¼•æ“ï¼Œæä¾›Canvasã€SVGç­‰å¤šç§æ¸²æŸ“æ–¹å¼çš„å®ç°ã€‚ç›®å‰ï¼Œå·²æœ‰å¤šä¸ªé¡¶çº§çš„å¯è§†åŒ–å¼€æºé¡¹ name=description><meta content="telephone=no, email=no, date=no, address=no" name=format-detection><meta content=åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ name=title><meta content=https://astro-blog.boycot.top name=site><meta content=boycot name=author><meta content="Astro v5.13.10" name=generator><meta content="index, follow, max-image-preview:large" name=robots><meta content="https://bing.img.run/rand.php?timestamp=17590275706924qgaeu&type=2" itemprop=image><meta content=boycot property=article:author><meta content=article property=og:type><meta content=boycot property=og:site_name><meta content=åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ property=og:title><meta content=åˆ©ç”¨é˜¿é‡ŒAntviså‡ºå“çš„Gåº•å±‚å›¾å½¢æ¸²æŸ“å™¨ï¼Œç»“åˆAudioContextæä¾›çš„éŸ³é¢‘æ•°æ®è·å–APIï¼Œå®ç°å‡ºç±»ä¼¼ç½‘æ˜“äº‘æ’­æ”¾éŸ³é¢‘ç‰¹æ•ˆã€‚é¡¹ç›®åœ°å€ï¼šâš¡GithubğŸ’¡Demoå…³äºGæ¸²æŸ“å™¨Gæ˜¯ä¸€æ¬¾æ˜“ç”¨ã€é«˜æ•ˆã€å¼ºå¤§çš„2Då¯è§†åŒ–æ¸²æŸ“å¼•æ“ï¼Œæä¾›Canvasã€SVGç­‰å¤šç§æ¸²æŸ“æ–¹å¼çš„å®ç°ã€‚ç›®å‰ï¼Œå·²æœ‰å¤šä¸ªé¡¶çº§çš„å¯è§†åŒ–å¼€æºé¡¹ property=og:description><meta content=https://astro-blog.boycot.top/article/%E5%88%A9%E7%94%A8G%E6%B8%B2%E6%9F%93%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96%E6%96%B9%E6%A1%88 property=og:url><meta content="https://bing.img.run/rand.php?timestamp=17590275706924qgaeu&type=2" property=og:image><meta content=zh_CN property=og:locale><meta content=summary_large_image name=twitter:card><meta content=boycot name=twitter:site><meta content=boycot name=twitter:creator><meta content=åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ name=twitter:title><meta content=åˆ©ç”¨é˜¿é‡ŒAntviså‡ºå“çš„Gåº•å±‚å›¾å½¢æ¸²æŸ“å™¨ï¼Œç»“åˆAudioContextæä¾›çš„éŸ³é¢‘æ•°æ®è·å–APIï¼Œå®ç°å‡ºç±»ä¼¼ç½‘æ˜“äº‘æ’­æ”¾éŸ³é¢‘ç‰¹æ•ˆã€‚é¡¹ç›®åœ°å€ï¼šâš¡GithubğŸ’¡Demoå…³äºGæ¸²æŸ“å™¨Gæ˜¯ä¸€æ¬¾æ˜“ç”¨ã€é«˜æ•ˆã€å¼ºå¤§çš„2Då¯è§†åŒ–æ¸²æŸ“å¼•æ“ï¼Œæä¾›Canvasã€SVGç­‰å¤šç§æ¸²æŸ“æ–¹å¼çš„å®ç°ã€‚ç›®å‰ï¼Œå·²æœ‰å¤šä¸ªé¡¶çº§çš„å¯è§†åŒ–å¼€æºé¡¹ name=twitter:description><meta content=https://astro-blog.boycot.top/article/%E5%88%A9%E7%94%A8G%E6%B8%B2%E6%9F%93%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96%E6%96%B9%E6%A1%88 name=twitter:url><meta content="https://bing.img.run/rand.php?timestamp=17590275706924qgaeu&type=2" name=twitter:image><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://astro-blog.boycot.top/article/%E5%88%A9%E7%94%A8G%E6%B8%B2%E6%9F%93%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96%E6%96%B9%E6%A1%88"},"headline":"åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ","description":"åˆ©ç”¨é˜¿é‡ŒAntviså‡ºå“çš„Gåº•å±‚å›¾å½¢æ¸²æŸ“å™¨ï¼Œç»“åˆAudioContextæä¾›çš„éŸ³é¢‘æ•°æ®è·å–APIï¼Œå®ç°å‡ºç±»ä¼¼ç½‘æ˜“äº‘æ’­æ”¾éŸ³é¢‘ç‰¹æ•ˆã€‚é¡¹ç›®åœ°å€ï¼šâš¡GithubğŸ’¡Demoå…³äºGæ¸²æŸ“å™¨Gæ˜¯ä¸€æ¬¾æ˜“ç”¨ã€é«˜æ•ˆã€å¼ºå¤§çš„2Då¯è§†åŒ–æ¸²æŸ“å¼•æ“ï¼Œæä¾›Canvasã€SVGç­‰å¤šç§æ¸²æŸ“æ–¹å¼çš„å®ç°ã€‚ç›®å‰ï¼Œå·²æœ‰å¤šä¸ªé¡¶çº§çš„å¯è§†åŒ–å¼€æºé¡¹","image":["https://bing.img.run/rand.php?timestamp=17590275706924qgaeu&type=2"],"datePublished":"2025-09-28T02:46:10.693+08:00","dateModified":"2025-09-28T02:46:10.693+08:00","author":{"@type":"Person","name":"boycot","url":"https://astro-blog.boycot.top"},"publisher":{"@type":"Organization","name":"boycot","logo":{"@type":"ImageObject","url":"https://astro-blog.boycot.top/assets/images/banner/072c12ec85d2d3b5.webp"}},"keywords":"Astro, åˆ†äº«, åšå®¢"}</script><link href=/sitemap-index.xml rel=sitemap><link href=https://i0.wp.com rel=dns-prefetch><link href=https://cn.cravatar.com rel=dns-prefetch><link href=https://analytics.vvhan.com rel=dns-prefetch><link href=https://vh-api.4ce.cn rel=dns-prefetch><link href=https://registry.npmmirror.com rel=dns-prefetch><link href=https://pagead2.googlesyndication.com rel=dns-prefetch><link href=https://i0.wp.com rel=preconnect><link href=https://cn.cravatar.com rel=preconnect><link href=https://analytics.vvhan.com rel=preconnect><link href=https://vh-api.4ce.cn rel=preconnect><link href=https://registry.npmmirror.com rel=preconnect><link href=https://pagead2.googlesyndication.com rel=preconnect><link href=https://astro-blog.boycot.top/article/%E5%88%A9%E7%94%A8G%E6%B8%B2%E6%9F%93%E5%99%A8%E5%AE%9E%E7%8E%B0%E7%9A%84%E9%9F%B3%E9%A2%91%E5%8F%AF%E8%A7%86%E5%8C%96%E6%96%B9%E6%A1%88 rel=canonical><link href=/favicon.svg rel=icon type=image/x-icon><script src=/assets/js/vhCaiqi.js defer=defer></script><style>:root{--byt-main-color:#126e82;--byt-font-color:#34495e;--byt-aside-width:318px;--byt-main-radius:0.28rem;--byt-main-max-width:1458px;--byt-main-header-height:28.88rem;--byt-home-banner:url('https://bing.img.run/rand.php') no-repeat center 60%/cover}</style><link href=/static/byt-Layout-BDtqLxc7.css rel=stylesheet><link href=/static/byt-article-_article_-CnDmdB7d.css rel=stylesheet><link href=/static/byt-about-index-2-DScYFX6A.css rel=stylesheet><link href=/static/byt-about-index-BItXrbz-.css rel=stylesheet><link href=/static/byt-about-index-BPyknviE.css rel=stylesheet><script src=/js/byt-page-4ZBNsjYQ.js type=module></script></head><body><nav class=byt-sidebar><section class=main><div class="byt-sidebar-list user-panel"><h3>boycot</h3></div><div class="byt-sidebar-list byt-link-list"><a href=/links target=_self class=links><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-friends"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M5 22v-5l-1 -1v-4a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4l-1 1v5"/><path d="M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M15 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"/></svg> å‹é“¾ </a><a href=/friends target=_self class=friends><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/><path d="M4 4a16 16 0 0 1 16 16"/><path d="M4 11a9 9 0 0 1 9 9"/></svg> åœˆå­ </a><a href=/talking target=_self class=talking><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-live-photo"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/><path d="M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M15.9 20.11l0 .01"/><path d="M19.04 17.61l0 .01"/><path d="M20.77 14l0 .01"/><path d="M20.77 10l0 .01"/><path d="M19.04 6.39l0 .01"/><path d="M15.9 3.89l0 .01"/><path d="M12 3l0 .01"/><path d="M8.1 3.89l0 .01"/><path d="M4.96 6.39l0 .01"/><path d="M3.23 10l0 .01"/><path d="M3.23 14l0 .01"/><path d="M4.96 17.61l0 .01"/><path d="M8.1 20.11l0 .01"/><path d="M12 21l0 .01"/></svg> åŠ¨æ€ </a><a href=/archives target=_self class=archives><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"/><path d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1"/><path d="M11 7h5"/><path d="M11 10h6"/><path d="M11 13h3"/></svg> æ—¶é—´è½´ </a><a href=/message target=_self class=message><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-message"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 9h8"/><path d="M8 13h6"/><path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"/></svg> ç•™è¨€ </a><a href=/about target=_self class=about><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 1 0 -4 0"/><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"/></svg> å…³äº </a><a href=https://api-docs.boycot.top/ target=_blank class=https:/api-docs.boycot.top/ ><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-link"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M9 15l6 -6"/><path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"/><path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"/></svg> API</a></div></section></nav><header class=byt-header><section class=main><a href=/ class="byt-hover home"><svg viewBox="0 0 256 256" xmlns=http://www.w3.org/2000/svg height=24px width=24px><path d="M216 120a8 8 0 0 0-6.78 3.76A180 180 0 0 1 195.41 143l-17.09-89.93a16 16 0 0 0-25.72-9.55l-.13.1L128 64l-24.47-20.38l-.13-.1a16 16 0 0 0-25.72 9.53L60.59 143a179 179 0 0 1-13.81-19.25A8 8 0 0 0 40 120a40 40 0 0 0 0 80h176a40 40 0 0 0 0-80M93.41 56l24.47 20.4l.12.1a15.92 15.92 0 0 0 20 0l.12-.1L162.59 56l13.68 72H79.73ZM40 184a24 24 0 0 1-4.14-47.64C51.28 159.83 67.73 174.65 82.4 184Zm88 0c-.33 0-25.49-.4-53.86-26.6l2.54-13.4h102.63l2.54 13.35a113.3 113.3 0 0 1-27.35 19c-15.4 7.42-26.44 7.65-26.5 7.65m88 0h-42.4c14.67-9.35 31.12-24.17 46.54-47.64A24 24 0 0 1 216 184" fill=currentColor /></svg> <span>boycot</span></a><nav><a href=/links target=_self class="byt-hover nav-link">å‹é“¾ <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-friends"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M5 22v-5l-1 -1v-4a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4l-1 1v5"/><path d="M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"/><path d="M15 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"/></svg> </a><a href=/friends target=_self class="byt-hover nav-link">åœˆå­ <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M5 19m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/><path d="M4 4a16 16 0 0 1 16 16"/><path d="M4 11a9 9 0 0 1 9 9"/></svg> </a><a href=/talking target=_self class="byt-hover nav-link">åŠ¨æ€ <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-live-photo"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M12 12m-1 0a1 1 0 1 0 2 0a1 1 0 1 0 -2 0"/><path d="M12 12m-5 0a5 5 0 1 0 10 0a5 5 0 1 0 -10 0"/><path d="M15.9 20.11l0 .01"/><path d="M19.04 17.61l0 .01"/><path d="M20.77 14l0 .01"/><path d="M20.77 10l0 .01"/><path d="M19.04 6.39l0 .01"/><path d="M15.9 3.89l0 .01"/><path d="M12 3l0 .01"/><path d="M8.1 3.89l0 .01"/><path d="M4.96 6.39l0 .01"/><path d="M3.23 10l0 .01"/><path d="M3.23 14l0 .01"/><path d="M4.96 17.61l0 .01"/><path d="M8.1 20.11l0 .01"/><path d="M12 21l0 .01"/></svg> </a><a href=/archives target=_self class="byt-hover nav-link">æ—¶é—´è½´ <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M7 3m0 2.667a2.667 2.667 0 0 1 2.667 -2.667h8.666a2.667 2.667 0 0 1 2.667 2.667v8.666a2.667 2.667 0 0 1 -2.667 2.667h-8.666a2.667 2.667 0 0 1 -2.667 -2.667z"/><path d="M4.012 7.26a2.005 2.005 0 0 0 -1.012 1.737v10c0 1.1 .9 2 2 2h10c.75 0 1.158 -.385 1.5 -1"/><path d="M11 7h5"/><path d="M11 10h6"/><path d="M11 13h3"/></svg> </a><a href=/message target=_self class="byt-hover nav-link">ç•™è¨€ <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-message"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 9h8"/><path d="M8 13h6"/><path d="M18 4a3 3 0 0 1 3 3v8a3 3 0 0 1 -3 3h-5l-5 3v-3h-2a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12z"/></svg> </a><a href=/about target=_self class="byt-hover nav-link">å…³äº <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 1 0 -4 0"/><path d="M3 7a4 4 0 0 1 4 -4h10a4 4 0 0 1 4 4v10a4 4 0 0 1 -4 4h-10a4 4 0 0 1 -4 -4z"/></svg> </a><a href=https://api-docs.boycot.top/ target=_blank class="byt-hover nav-link">API <svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-link"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M9 15l6 -6"/><path d="M11 6l.463 -.536a5 5 0 0 1 7.071 7.072l-.534 .464"/><path d="M13 18l-.397 .534a5.068 5.068 0 0 1 -7.127 0a4.972 4.972 0 0 1 0 -7.071l.524 -.463"/></svg> </a><span class="byt-hover nav-link search-btn"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"></path><path d="M21 21l-6 -6"></path></svg> æœç´¢</span> <span class="byt-hover nav-link menu-btn"><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M4 6h16"></path><path d="M7 12h13"></path><path d="M10 18h10"></path></svg></span></nav><section class=byt-search><main><div class=search-input><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg><path d="m19.6 21l-6.3-6.3q-.75.6-1.725.95T9.5 16q-2.725 0-4.612-1.888T3 9.5t1.888-4.612T9.5 3t4.613 1.888T16 9.5q0 1.1-.35 2.075T14.7 13.3l6.3 6.3zM9.5 14q1.875 0 3.188-1.312T14 9.5t-1.312-3.187T9.5 5T6.313 6.313T5 9.5t1.313 3.188T9.5 14" fill=#B4B4B4></path></svg> <input placeholder=æœç´¢æ–‡ç«  type=text></div><section class=byt-search-list><em></em></section></main></section></section></header><main class=main><div class=header-main><div class=avatar><img alt=avatar src=/assets/images/lazy-loading.webp data-byt-lz-src=https://boycot2015.github.io/picx-images-hosting/avatar/avatar.7pnvyzg2f.webp></div><h3 class=auther>boycot</h3><p class=desc></p></div><section class=main-inner style=padding-top:.88rem;flex-direction:row><section class=main-inner-content><article class="byt-animation byt-animation-init byt-article-main"><header><h1>åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ</h1><div class=article-meta><span class=article-meta-item><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path><path d="M12 12h3.5"></path><path d="M12 7v5"></path></svg> <time>2021-06-29 å‡Œæ™¨</time> <span class=count><strong>3223</strong>å­—</span> <span class=time><strong>16.1</strong>åˆ†é’Ÿ</span> </span><a href="/categories/undefined" class=article-meta-item><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M4 6h16"></path><path d="M7 12h13"></path><path d="M10 18h10"></path></svg> <span></span></a></div></header><main><p>åˆ©ç”¨é˜¿é‡Œ Antvis å‡ºå“çš„ G åº•å±‚å›¾å½¢æ¸²æŸ“å™¨ï¼Œç»“åˆ AudioContext æä¾›çš„éŸ³é¢‘æ•°æ®è·å– APIï¼Œå®ç°å‡ºç±»ä¼¼ç½‘æ˜“äº‘æ’­æ”¾éŸ³é¢‘ç‰¹æ•ˆã€‚</p><p>é¡¹ç›®åœ°å€ï¼š</p><ul><li><a href=https://github.com/leon-kfd/g-music-visualizer target=_blank>âš¡Github</a></li><li><a href=https://leon-kfd.github.io/g-music-visualizer/ target=_blank>ğŸ’¡Demo</a></li></ul><h2 id=å…³äº-g-æ¸²æŸ“å™¨>å…³äº G æ¸²æŸ“å™¨</h2><p><code>G</code>æ˜¯ä¸€æ¬¾æ˜“ç”¨ã€é«˜æ•ˆã€å¼ºå¤§çš„ 2D å¯è§†åŒ–æ¸²æŸ“å¼•æ“ï¼Œæä¾› Canvasã€SVG ç­‰å¤šç§æ¸²æŸ“æ–¹å¼çš„å®ç°ã€‚ç›®å‰ï¼Œå·²æœ‰å¤šä¸ªé¡¶çº§çš„å¯è§†åŒ–å¼€æºé¡¹ç›®åŸºäº<code>G</code>å¼€å‘ï¼Œæ¯”å¦‚å›¾å½¢è¯­æ³•åº“<code>G2</code>ã€å›¾å¯è§†åŒ–åº“<code>G6</code>ç­‰ã€‚</p><p>ä½œä¸ºä¸€ä¸ªåº•å±‚æ¸²æŸ“å™¨ï¼Œå…¶å†…ç½®äº†è®¸å¤šå¸¸ç”¨çš„å†…ç½®å›¾å½¢ï¼Œæä¾›å®Œæ•´çš„ DOM äº‹ä»¶æ¨¡æ‹Ÿï¼ŒåŒæ—¶æä¾›äº†æµç¨‹çš„åŠ¨ç”»å®ç°ï¼Œè¿™äº›ç‰¹æ€§å¯¹æˆ‘ä»¬è¿™æ¬¡å®ç°éŸ³é¢‘ç‰¹æ•ˆéƒ½æ˜¯å¾ˆæœ‰å¿…è¦çš„ã€‚</p><p>ç›®å‰ä¸<code>G</code>ç›¸ä¼¼çš„ç«å“è¿˜æœ‰<code>Echart</code>çš„<code>ZRender</code>ï¼Œç›¸æ¯”è¾ƒä»¥æˆ‘ä¸ªäººçœ‹æ³•æ¥è¯´ï¼ŒZrender æä¾›çš„ API æ›´ä¸°å¯Œï¼Œä½†æ˜¯ä¸Šæ‰‹éš¾åº¦æ¯” G è¦é«˜ä¸€ç‚¹ï¼Œè€Œ<code>G</code>çš„ API ç›¸å¯¹<code>ç®€æ´</code>ä¸€ç‚¹ã€‚</p><p>ç±»ä¼¼çš„è¿˜æœ‰è€å¤§å“¥<code>d3</code>ï¼Œè¿™ä¸ªç›¸è¾ƒä»¥ä¸Šä¸¤ä¸ªæ›´åº•å±‚ï¼ŒAPI æ›´ä¸°å¯Œï¼Œä½†ä¸Šæ‰‹éš¾åº¦å°±æ›´å¤§äº†ã€‚åŒæ—¶<code>g</code>é‡Œé¢çš„ä¸€äº›æ–¹æ³•å¥½åƒä¹Ÿæ˜¯å‚è€ƒäº†<code>d3</code>ç®—æ³•æ€è·¯ã€‚</p><p><a href=https://g.antv.vision/zh/docs/api/canvas target=_blank rel="noopener nofollow"><span>G å®˜æ–¹æ–‡æ¡£</span></a> <em>ï¼ˆè¿™é‡Œåæ§½è¯´ä¸€ä¸‹ï¼ŒG çš„å®˜æ–¹æ–‡æ¡£æ„Ÿè§‰è¿˜æœ‰å¾ˆå¤§ä¼˜åŒ–ç©ºé—´ï¼Œå®åœ¨å¤ªç®€æ´äº†ï¼Œå¾ˆå¤š API éƒ½æ˜¯ä¸€ç¬”å¸¦è¿‡ï¼Œç”¨æ³•ä¹Ÿä¸æ€ä¹ˆè¯´æ˜ï¼‰</em></p><h2 id=audiocontext-è¯»å–éŸ³é¢‘æ•°æ®>AudioContext è¯»å–éŸ³é¢‘æ•°æ®</h2><p>å®ç°éŸ³é¢‘ç‰¹æ•ˆåŠ¨ç”»çš„å‰ææ˜¯éœ€è¦æ‹¿åˆ°ä¸€ä¸ªéŸ³é¢‘çš„éŸ³é¢‘æ•°æ®ï¼Œæµè§ˆç½‘ä¸Šä¸€äº›æ–¹æ¡ˆåï¼Œå‘ç°<a href=https://developer.mozilla.org/zh-CN/docs/Web/API/AudioContext target=_blank rel="noopener nofollow"><span>AudioContext</span></a>å«æœ‰ç›¸å…³çš„ APIã€‚</p><p>åŸç†ï¼š</p><ul><li>é¦–å…ˆéœ€è¦åŸºäº<code>AudioContext.createAnalyser()</code>åˆ›å»ºä¸€ä¸ª<code>Analyser</code></li><li>ä¸º<code>Analyser</code>å…³è”éŸ³é¢‘æºï¼Œç›®å‰å¸¸ç”¨çš„éŸ³é¢‘æºæ–¹å¼ä¸€èˆ¬ä¸ºä»¥ä¸‹ä¸¤ä¸ª<ul><li><code>createMediaElementSource()</code>: å…³è”åˆ°<code>audio</code>æˆ–<code>video</code>æ ‡ç­¾ä¸­ï¼ˆå½“å‰æ–¹æ¡ˆé€‰æ‹©äº†è¿™ä¸ªï¼‰</li><li><code>createMediaStreamSource()</code>: å…³è”åˆ°æœ¬åœ°è®¡ç®—æœºæˆ–ç½‘ç»œéŸ³é¢‘åª’ä½“æµå¯¹è±¡</li></ul></li><li>åˆ›å»º<code>Gain</code>éŸ³é‡èŠ‚ç‚¹å¹¶å…³è”åˆ°<code>Analyser</code>çš„<code>destination</code>ä¸­</li><li>é€šè¿‡<code>AnalyserNode.getByteFrequencyData()</code>æ–¹æ³•å°†å½“å‰é¢‘ç‡æ•°æ®å¤åˆ¶åˆ°ä¼ å…¥çš„æœ€ç»ˆéœ€è¯»å–éŸ³é¢‘çš„ Uint8Array ä¸­</li></ul><p>æŠŠä»¥ä¸Šæ“ä½œå°è£…åˆ°ä¸€ä¸ªç±»ä¸­ï¼Œä¾¿äºåˆå§‹åŒ–ï¼Œå¯å‚è€ƒä»¥ä¸‹ä»£ç :</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d>// src/plugins/MusicVisualizer.ts</span></span>
<span class=line><span style=color:#d73a49>const</span><span style=color:#005cc5> _analyser</span><span style=color:#d73a49> =</span><span style=color:#d73a49> new</span><span style=color:#24292e> window.</span><span style=color:#6f42c1>AudioContext</span><span style=color:#24292e>();</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49>type</span><span style=color:#6f42c1> MusicVisualizerOptions</span><span style=color:#d73a49> =</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#e36209>  audioEl</span><span style=color:#d73a49>?:</span><span style=color:#6f42c1> HTMLAudioElement</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#e36209>  size</span><span style=color:#d73a49>?:</span><span style=color:#005cc5> number</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>};</span></span>
<span class=line><span style=color:#d73a49>export</span><span style=color:#d73a49> class</span><span style=color:#6f42c1> MusicVisualizer</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#e36209> analyser</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> AnalyserNode</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#e36209> gainNode</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> GainNode</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#e36209> audioSource</span><span style=color:#d73a49>?:</span><span style=color:#6f42c1> MediaElementAudioSourceNode</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#e36209> options</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> MusicVisualizerOptions</span><span style=color:#d73a49> &#x26;</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#e36209>    size</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>  };</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#e36209> visualArr</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> Uint8Array</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>  constructor</span><span style=color:#24292e>(</span><span style=color:#e36209>options</span><span style=color:#d73a49>?:</span><span style=color:#6f42c1> MusicVisualizerOptions</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> defaultOptions</span><span style=color:#d73a49> =</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>      size: </span><span style=color:#005cc5>128</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    };</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.options </span><span style=color:#d73a49>=</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>      ...</span><span style=color:#24292e>defaultOptions,</span></span>
<span class=line><span style=color:#d73a49>      ...</span><span style=color:#24292e>options,</span></span>
<span class=line><span style=color:#24292e>    };</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.analyser </span><span style=color:#d73a49>=</span><span style=color:#24292e> _analyser.</span><span style=color:#6f42c1>createAnalyser</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.analyser.fftSize </span><span style=color:#d73a49>=</span><span style=color:#005cc5> this</span><span style=color:#24292e>.options.size </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 2</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.gainNode </span><span style=color:#d73a49>=</span><span style=color:#24292e> _analyser.</span><span style=color:#6f42c1>createGain</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.gainNode.</span><span style=color:#6f42c1>connect</span><span style=color:#24292e>(_analyser.destination);</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.analyser.</span><span style=color:#6f42c1>connect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.gainNode);</span></span>
<span class=line><span style=color:#d73a49>    if</span><span style=color:#24292e> (</span><span style=color:#005cc5>this</span><span style=color:#24292e>.options.audioEl) {</span></span>
<span class=line><span style=color:#005cc5>      this</span><span style=color:#24292e>.audioSource </span><span style=color:#d73a49>=</span><span style=color:#24292e> _analyser.</span><span style=color:#6f42c1>createMediaElementSource</span><span style=color:#24292e>(</span></span>
<span class=line><span style=color:#005cc5>        this</span><span style=color:#24292e>.options.audioEl</span></span>
<span class=line><span style=color:#24292e>      );</span></span>
<span class=line><span style=color:#005cc5>      this</span><span style=color:#24292e>.audioSource.</span><span style=color:#6f42c1>connect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.analyser);</span></span>
<span class=line><span style=color:#24292e>    }</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.visualArr </span><span style=color:#d73a49>=</span><span style=color:#d73a49> new</span><span style=color:#6f42c1> Uint8Array</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.analyser.frequencyBinCount);</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.</span><span style=color:#6f42c1>resumeAudioContext</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d>  // æ–°ç‰ˆChrome Audioéœ€è¦æœ‰äº¤äº’è¡Œä¸ºåæ‰å¯ä»¥åˆ©ç”¨JSæ‰§è¡Œæ’­æ”¾</span></span>
<span class=line><span style=color:#d73a49>  private</span><span style=color:#6f42c1> resumeAudioContext</span><span style=color:#24292e>() {</span></span>
<span class=line><span style=color:#d73a49>    if</span><span style=color:#24292e> (_analyser) {</span></span>
<span class=line><span style=color:#d73a49>      const</span><span style=color:#6f42c1> resumeAudio</span><span style=color:#d73a49> =</span><span style=color:#24292e> () </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>        if</span><span style=color:#24292e> (_analyser.state </span><span style=color:#d73a49>===</span><span style=color:#032f62> "suspended"</span><span style=color:#24292e>) _analyser.</span><span style=color:#6f42c1>resume</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#24292e>        document.</span><span style=color:#6f42c1>removeEventListener</span><span style=color:#24292e>(</span><span style=color:#032f62>"click"</span><span style=color:#24292e>, resumeAudio);</span></span>
<span class=line><span style=color:#24292e>      };</span></span>
<span class=line><span style=color:#24292e>      document.</span><span style=color:#6f42c1>addEventListener</span><span style=color:#24292e>(</span><span style=color:#032f62>"click"</span><span style=color:#24292e>, resumeAudio);</span></span>
<span class=line><span style=color:#24292e>    }</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d>  // æ›´æ¢Audio</span></span>
<span class=line><span style=color:#6f42c1>  setAudioEl</span><span style=color:#24292e>(</span><span style=color:#e36209>el</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> HTMLAudioElement</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#d73a49>    if</span><span style=color:#24292e> (</span><span style=color:#005cc5>this</span><span style=color:#24292e>.audioSource) {</span></span>
<span class=line><span style=color:#005cc5>      this</span><span style=color:#24292e>.audioSource.</span><span style=color:#6f42c1>disconnect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.analyser);</span></span>
<span class=line><span style=color:#24292e>    }</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.audioSource </span><span style=color:#d73a49>=</span><span style=color:#24292e> _analyser.</span><span style=color:#6f42c1>createMediaElementSource</span><span style=color:#24292e>(el);</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.audioSource.</span><span style=color:#6f42c1>connect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.analyser);</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d>  // è·å–éŸ³é¢‘é¢‘åŸŸæ•°æ®</span></span>
<span class=line><span style=color:#6f42c1>  getVisualizeValue</span><span style=color:#24292e>() {</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.analyser.</span><span style=color:#6f42c1>getByteFrequencyData</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.visualArr);</span></span>
<span class=line><span style=color:#d73a49>    return</span><span style=color:#005cc5> this</span><span style=color:#24292e>.visualArr;</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d>  // æ›´æ”¹éŸ³é‡</span></span>
<span class=line><span style=color:#6f42c1>  changeVolumn</span><span style=color:#24292e>(</span><span style=color:#e36209>value</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.gainNode.gain.value </span><span style=color:#d73a49>=</span><span style=color:#24292e> value;</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line></span>
<span class=line><span style=color:#6a737d>  // å¸è½½</span></span>
<span class=line><span style=color:#6f42c1>  destory</span><span style=color:#24292e>() {</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.analyser.</span><span style=color:#6f42c1>disconnect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.gainNode);</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.audioSource?.</span><span style=color:#6f42c1>disconnect</span><span style=color:#24292e>(</span><span style=color:#005cc5>this</span><span style=color:#24292e>.analyser);</span></span>
<span class=line><span style=color:#005cc5>    this</span><span style=color:#24292e>.gainNode.</span><span style=color:#6f42c1>disconnect</span><span style=color:#24292e>(_analyser.destination);</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line><span style=color:#24292e>}</span></span></code></pre></section><p>åˆå§‹åŒ–ä¹‹åï¼Œå°±å¯ä»¥ç›‘å¬ Audio çš„æ’­æ”¾äº‹ä»¶ï¼Œå½“æ’­æ”¾æ—¶åˆ©ç”¨<code>getVisualizeValue()</code>æ–¹æ³•è·å–åˆ°å®æ—¶éŸ³é¢‘ï¼ˆå¯ç»“åˆåˆ©ç”¨ requestAnimationFrame æˆ– setTimeout è·å–ï¼‰ï¼Œè¿™é‡Œå› ä¸ºæ˜¯åšå¯è§†åŒ–åŠ¨ç”»ï¼Œå½“ç„¶æ˜¯åˆ©ç”¨<code>requestAnimationFrame</code>è¯»å–æ¯å¸§çš„æ•°æ®åæ¸²æŸ“ã€‚</p><p>è¿˜æœ‰ä¸€ä¸ªéœ€è¦æ³¨æ„çš„ç‚¹ï¼Œå½“ Audio çš„æ•°æ®æºæ˜¯ç½‘ç»œéŸ³é¢‘æ—¶ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°æ— æ³•è¯»å–åˆ°éŸ³é¢‘æ•°æ®çš„é—®é¢˜ã€‚è¿™ä¸ªé—®é¢˜ä¸€èˆ¬å¯èƒ½æ˜¯å› ä¸ºç½‘ç»œéŸ³é¢‘çš„<strong>è·¨åŸŸé™åˆ¶</strong>ï¼Œéœ€è¦ä¸º Audio æ ‡ç­¾åŠ å…¥<code>crossOrigin="anonymous"</code>å±æ€§ã€‚ ä¸€èˆ¬çš„ CDN èµ„æºæ˜¯å¾ˆå°‘è®¾ç½® AccessHeader è·¨åŸŸé™åˆ¶çš„ï¼Œä½†åŠ å…¥è¿™ä¸ªå±æ€§åä»ç„¶å‡ºç°äº†è·¨åŸŸçš„æŠ¥é”™ï¼Œè¯´æ˜è¿™ç½‘ç»œè·¯å¾„æ˜¯è®¾ç½®äº†è·¨åŸŸé™åˆ¶çš„ï¼Œè¿™æ—¶å€™å¯ä»¥è€ƒè™‘ç”¨ Nginx åå‘ä»£ç†æˆ–æœåŠ¡ç«¯è§£å†³ã€‚</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=html style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e>&#x3C;</span><span style=color:#22863a>audio</span></span>
<span class=line><span style=color:#6f42c1>  controls</span></span>
<span class=line><span style=color:#6f42c1>  onPlay</span><span style=color:#24292e>=</span><span style=color:#032f62>"{play}"</span></span>
<span class=line><span style=color:#6f42c1>  onPause</span><span style=color:#24292e>=</span><span style=color:#032f62>"{pause}"</span></span>
<span class=line><span style=color:#6f42c1>  ref</span><span style=color:#24292e>=</span><span style=color:#032f62>"{audio}"</span></span>
<span class=line><span style=color:#6f42c1>  src</span><span style=color:#24292e>=</span><span style=color:#032f62>"{audioURL}"</span></span>
<span class=line><span style=color:#6f42c1>  crossorigin</span><span style=color:#24292e>=</span><span style=color:#032f62>"anonymous"</span></span>
<span class=line><span style=color:#24292e>>&#x3C;/</span><span style=color:#22863a>audio</span><span style=color:#24292e>></span></span></code></pre></section><h2 id=å¯è§†åŒ–ç‰¹æ•ˆå®ç°>å¯è§†åŒ–ç‰¹æ•ˆå®ç°</h2><p><strong>ä»¥ä¸‹é€‰å–é¡¹ç›®éƒ¨åˆ†åŠŸèƒ½çš„å®ç°åŸç†è¿›è¡Œè¯´æ˜</strong></p><h3 id=ä¸“è¾‘å›¾ç‰‡æ—‹è½¬åŠ¨ç”»>ä¸“è¾‘å›¾ç‰‡æ—‹è½¬åŠ¨ç”»</h3><p>å› ä¸ºæ¯ä¸ªç¤ºä¾‹éƒ½éœ€è¦ç”¨åˆ°ä¸“è¾‘å›¾ç‰‡æ—‹è½¬åŠ¨ç”»ï¼Œå› æ­¤ä¸ºäº†æ–¹ä¾¿æŠŠä¸“è¾‘å›¾ç‰‡çš„åˆ›å»ºæŠ½ç¦»äº†å‡ºæ¥ã€‚</p><p>åœ¨ G ä¸­ç”»ä¸€ä¸ªåœ†å½¢å›¾ç‰‡éœ€è¦ç”¨åˆ°<code>Clip</code>ï¼Œè¿™ä¸ªåœ¨æ–‡æ¡£ä¸­å¹¶æ²¡æœ‰è¯´æ˜ï¼Œä½†ä» github ä¸­æ‰¾åˆ°äº†è¯¥ç”¨æ³•ã€‚</p><p>æ—‹è½¬åŠ¨ç”»ä¸èƒ½ç›´æ¥ä½¿ç”¨åŸºç¡€å±æ€§æ¨¡æ‹Ÿï¼Œè¿™é‡Œç”¨åˆ°äº†çŸ©é˜µå˜æ¢ï¼Œåˆ©ç”¨<code>shape.getMatrix()</code>è·å–åˆå§‹çŸ©é˜µï¼Œå†é€šè¿‡<code>transform</code>è®¡ç®—å‡ºæ¯ä¸ª<code>ratio</code>å¯¹åº”çš„çŸ©é˜µã€‚</p><p><code>transform</code>æ˜¯ G æä¾›çš„ä¸€ä¸ªæ‰©å±•çŸ©é˜µå˜æ¢æ–¹æ³•ï¼Œæ¥æ”¶ 2 ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯å½“å‰çŸ©é˜µï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯ Action æ•°ç»„ã€‚è¿™é‡Œçš„æ—‹è½¬å¯¹åº”çš„ action æ˜¯:</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=plaintext style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span>['t', -x, -y],</span></span>
<span class=line><span>['r', æ—‹è½¬è§’åº¦],</span></span>
<span class=line><span>['t', x, y],</span></span></code></pre></section><p><img alt=ç®€å•ç¤ºä¾‹ src=/assets/images/lazy-loading.webp data-byt-lz-src=https://cdn.kongfandong.cn/img/blog/gq5J82LKisQHxbI.gif class=byt-article-img></p><p>ä»£ç å‚è€ƒå¦‚ä¸‹:</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49>import</span><span style=color:#24292e> { Canvas } </span><span style=color:#d73a49>from</span><span style=color:#032f62> "@antv/g-canvas"</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>import</span><span style=color:#24292e> { ext } </span><span style=color:#d73a49>from</span><span style=color:#032f62> "@antv/matrix-util"</span><span style=color:#24292e>;</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49>const</span><span style=color:#24292e> { </span><span style=color:#005cc5>transform</span><span style=color:#24292e> } </span><span style=color:#d73a49>=</span><span style=color:#24292e> ext; </span><span style=color:#6a737d>// Gæä¾›çš„çŸ©é˜µå˜æ¢å¿«æ·æ–¹æ³•</span></span>
<span class=line></span>
<span class=line><span style=color:#d73a49>type</span><span style=color:#6f42c1> ImageCircleConfig</span><span style=color:#d73a49> =</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#e36209>  x</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#e36209>  y</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#e36209>  r</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#e36209>  shadowColor</span><span style=color:#d73a49>?:</span><span style=color:#005cc5> string</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>};</span></span>
<span class=line><span style=color:#d73a49>export</span><span style=color:#d73a49> function</span><span style=color:#6f42c1> getImageCircle</span><span style=color:#24292e>(</span></span>
<span class=line><span style=color:#e36209>  canvas</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> Canvas</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>  { </span><span style=color:#e36209>x</span><span style=color:#24292e>, </span><span style=color:#e36209>y</span><span style=color:#24292e>, </span><span style=color:#e36209>r</span><span style=color:#24292e>, </span><span style=color:#e36209>shadowColor</span><span style=color:#24292e> }</span><span style=color:#d73a49>:</span><span style=color:#6f42c1> ImageCircleConfig</span></span>
<span class=line><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> shadowConfig</span><span style=color:#d73a49> =</span><span style=color:#24292e> shadowColor</span></span>
<span class=line><span style=color:#d73a49>    ?</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>        shadowColor,</span></span>
<span class=line><span style=color:#24292e>        shadowBlur: </span><span style=color:#005cc5>16</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>      }</span></span>
<span class=line><span style=color:#d73a49>    :</span><span style=color:#24292e> {};</span></span>
<span class=line><span style=color:#24292e>  canvas.</span><span style=color:#6f42c1>addShape</span><span style=color:#24292e>(</span><span style=color:#032f62>"circle"</span><span style=color:#24292e>, {</span></span>
<span class=line><span style=color:#24292e>    attrs: {</span></span>
<span class=line><span style=color:#24292e>      x,</span></span>
<span class=line><span style=color:#24292e>      y,</span></span>
<span class=line><span style=color:#24292e>      r,</span></span>
<span class=line><span style=color:#24292e>      fill: </span><span style=color:#032f62>"#262626"</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#d73a49>      ...</span><span style=color:#24292e>shadowConfig,</span></span>
<span class=line><span style=color:#24292e>    },</span></span>
<span class=line><span style=color:#24292e>  });</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> shape</span><span style=color:#d73a49> =</span><span style=color:#24292e> canvas.</span><span style=color:#6f42c1>addShape</span><span style=color:#24292e>(</span><span style=color:#032f62>"image"</span><span style=color:#24292e>, {</span></span>
<span class=line><span style=color:#24292e>    attrs: {</span></span>
<span class=line><span style=color:#24292e>      x: x </span><span style=color:#d73a49>-</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      y: y </span><span style=color:#d73a49>-</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      width: </span><span style=color:#005cc5>2</span><span style=color:#d73a49> *</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      height: </span><span style=color:#005cc5>2</span><span style=color:#d73a49> *</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      img: </span><span style=color:#032f62>`https://source.unsplash.com/random/${</span><span style=color:#005cc5>2</span><span style=color:#d73a49> *</span><span style=color:#24292e> r</span><span style=color:#032f62>}x${</span><span style=color:#005cc5>2</span><span style=color:#d73a49> *</span><span style=color:#24292e> r</span><span style=color:#032f62>}?Nature`</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    },</span></span>
<span class=line><span style=color:#24292e>  });</span></span>
<span class=line><span style=color:#24292e>  shape.</span><span style=color:#6f42c1>setClip</span><span style=color:#24292e>({</span></span>
<span class=line><span style=color:#24292e>    type: </span><span style=color:#032f62>"circle"</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    attrs: {</span></span>
<span class=line><span style=color:#24292e>      x,</span></span>
<span class=line><span style=color:#24292e>      y,</span></span>
<span class=line><span style=color:#24292e>      r,</span></span>
<span class=line><span style=color:#24292e>    },</span></span>
<span class=line><span style=color:#24292e>  });</span></span>
<span class=line><span style=color:#6a737d>  // æ—‹è½¬åŠ¨ç”»</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> matrix</span><span style=color:#d73a49> =</span><span style=color:#24292e> shape.</span><span style=color:#6f42c1>getMatrix</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> radian</span><span style=color:#d73a49> =</span><span style=color:#005cc5> 2</span><span style=color:#d73a49> *</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>; </span><span style=color:#6a737d>// æ—‹è½¬360åº¦</span></span>
<span class=line><span style=color:#24292e>  shape.</span><span style=color:#6f42c1>animate</span><span style=color:#24292e>(</span></span>
<span class=line><span style=color:#24292e>    (</span><span style=color:#e36209>ratio</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>      return</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>        matrix: </span><span style=color:#6f42c1>transform</span><span style=color:#24292e>(matrix, [</span></span>
<span class=line><span style=color:#24292e>          [</span><span style=color:#032f62>"t"</span><span style=color:#24292e>, </span><span style=color:#d73a49>-</span><span style=color:#24292e>x, </span><span style=color:#d73a49>-</span><span style=color:#24292e>y],</span></span>
<span class=line><span style=color:#24292e>          [</span><span style=color:#032f62>"r"</span><span style=color:#24292e>, radian </span><span style=color:#d73a49>*</span><span style=color:#24292e> ratio],</span></span>
<span class=line><span style=color:#24292e>          [</span><span style=color:#032f62>"t"</span><span style=color:#24292e>, x, y],</span></span>
<span class=line><span style=color:#24292e>        ]),</span></span>
<span class=line><span style=color:#24292e>      };</span></span>
<span class=line><span style=color:#24292e>    },</span></span>
<span class=line><span style=color:#24292e>    {</span></span>
<span class=line><span style=color:#24292e>      duration: </span><span style=color:#005cc5>10000</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>      repeat: </span><span style=color:#005cc5>true</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    }</span></span>
<span class=line><span style=color:#24292e>  );</span></span>
<span class=line><span style=color:#6a737d>  // åˆ›å»ºåå…ˆæš‚åœåŠ¨ç”»ï¼Œç­‰å¾…æ’­æ”¾åå†æ¢å¤</span></span>
<span class=line><span style=color:#6f42c1>  setTimeout</span><span style=color:#24292e>(() </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>    shape.</span><span style=color:#6f42c1>pauseAnimate</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#24292e>  });</span></span>
<span class=line><span style=color:#d73a49>  return</span><span style=color:#24292e> shape;</span></span>
<span class=line><span style=color:#24292e>}</span></span></code></pre></section><h3 id=åœ¨åœ†ä¸Šçš„ç‚¹>åœ¨åœ†ä¸Šçš„ç‚¹</h3><p>ç¤ºä¾‹ä¸­ç»å¸¸è¦è®¡ç®—çš„å°±æ˜¯åœ¨åœ†ä¸Šçš„ç‚¹ï¼Œä»¥æŸ±çŠ¶æ¡ç‰¹æ•ˆï¼ˆç¤ºä¾‹ä¸€ï¼‰ä¸ºä¾‹ï¼Œé¦–å…ˆå°±æ˜¯è¦å‡ºå›´ç»•ç€åœ†çš„å¹³å‡ 64 ä¸ªç‚¹ä½œä¸ºåˆå§‹åæ ‡ã€‚</p><p>å¯é€šè¿‡åˆ©ç”¨å½“å‰ç‚¹ä¸åœ†å¿ƒçš„å¤¹è§’ç»“åˆç®€å•ä¸‰è§’å‡½æ•°è¿ç®—å‡º x,y çš„åç§»é‡ã€‚</p><p>å¦‚ä¸‹å›¾, <strong>l = cos(Î¸) * r</strong>, <strong>t = sin(Î¸) * r</strong>, é€šè¿‡åœ†å¿ƒ O åæ ‡åŠ ä¸Šåç§»é‡å³å¯ç®—å‡ºç‚¹ A åæ ‡ã€‚</p><p><img alt=è·å–åœ†ä¸Šçš„ç‚¹ src=/assets/images/lazy-loading.webp data-byt-lz-src=https://cdn.kongfandong.cn/img/blog/ePWZhx8tjOlBvuk.png class=byt-article-img></p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d>// POINT_NUM = 64 æŸ±çŠ¶æ¡æ•°</span></span>
<span class=line><span style=color:#24292e>sArr.current </span><span style=color:#d73a49>=</span><span style=color:#24292e> Array.</span><span style=color:#6f42c1>from</span><span style=color:#24292e>({ length: </span><span style=color:#005cc5>POINT_NUM</span><span style=color:#24292e> }, (</span><span style=color:#e36209>item</span><span style=color:#24292e>, </span><span style=color:#e36209>index</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> deg</span><span style=color:#d73a49> =</span><span style=color:#24292e> index </span><span style=color:#d73a49>*</span><span style=color:#24292e> (</span><span style=color:#005cc5>360</span><span style=color:#d73a49> /</span><span style=color:#005cc5> POINT_NUM</span><span style=color:#24292e>) </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 150</span><span style=color:#24292e>; </span><span style=color:#6a737d>// å½“å‰è§’åº¦</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> l</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>cos</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>); </span><span style=color:#6a737d>// xæ–¹å‘åç§»ç³»æ•°</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> t</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>sin</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>); </span><span style=color:#6a737d>// yæ–¹å‘åç§»ç³»æ•°</span></span>
<span class=line><span style=color:#d73a49>  const</span><span style=color:#005cc5> r</span><span style=color:#d73a49> =</span><span style=color:#005cc5> R</span><span style=color:#d73a49> +</span><span style=color:#005cc5> OFFSET</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>  return</span><span style=color:#24292e> (canvas.current </span><span style=color:#d73a49>as</span><span style=color:#6f42c1> Canvas</span><span style=color:#24292e>)</span></span>
<span class=line><span style=color:#24292e>    .</span><span style=color:#6f42c1>addShape</span><span style=color:#24292e>(</span><span style=color:#032f62>"rect"</span><span style=color:#24292e>, {</span></span>
<span class=line><span style=color:#24292e>      attrs: {</span></span>
<span class=line><span style=color:#24292e>        width: </span><span style=color:#005cc5>RECT_WIDTH</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        height: </span><span style=color:#005cc5>RECT_WIDTH</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        radius: </span><span style=color:#005cc5>RECT_WIDTH</span><span style=color:#d73a49> /</span><span style=color:#005cc5> 2</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        x: </span><span style=color:#005cc5>X</span><span style=color:#d73a49> +</span><span style=color:#24292e> l </span><span style=color:#d73a49>*</span><span style=color:#24292e> r </span><span style=color:#d73a49>-</span><span style=color:#005cc5> RECT_WIDTH</span><span style=color:#d73a49> /</span><span style=color:#005cc5> 2</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        y: </span><span style=color:#005cc5>Y</span><span style=color:#d73a49> +</span><span style=color:#24292e> t </span><span style=color:#d73a49>*</span><span style=color:#24292e> r </span><span style=color:#d73a49>-</span><span style=color:#005cc5> RECT_WIDTH</span><span style=color:#d73a49> /</span><span style=color:#005cc5> 2</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        fill: </span><span style=color:#005cc5>RECT_COLOR</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>      },</span></span>
<span class=line><span style=color:#24292e>    })</span></span>
<span class=line><span style=color:#24292e>    .</span><span style=color:#6f42c1>rotateAtPoint</span><span style=color:#24292e>(</span><span style=color:#005cc5>X</span><span style=color:#d73a49> +</span><span style=color:#24292e> l </span><span style=color:#d73a49>*</span><span style=color:#24292e> r, </span><span style=color:#005cc5>Y</span><span style=color:#d73a49> +</span><span style=color:#24292e> t </span><span style=color:#d73a49>*</span><span style=color:#24292e> r, ((deg </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 90</span><span style=color:#24292e>) </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#24292e>});</span></span></code></pre></section><p>è¿™é‡Œæ¯ä¸ªæŸ±çŠ¶æ¡éƒ½éœ€è¦è¿›è¡Œæ—‹è½¬æ¥å›´ç»•åœ†æ’åˆ—ï¼Œä½¿ç”¨çš„æ˜¯<code>rotateAtPoint</code>ç»•ç€åˆå§‹ç‚¹æ—‹è½¬å¯¹åº”è§’åº¦ã€‚</p><p>åŸºæœ¬æ‰€æœ‰çš„ç¤ºä¾‹éƒ½éœ€è¦é¦–å…ˆè®¡ç®—å‡ºå›´ç»•åœ†çš„ç‚¹åæ ‡ï¼Œéƒ½æ˜¯é‡‡ç”¨è¿™ç§æ–¹å¼è®¡ç®—å³å¯ã€‚</p><h3 id=ä½¿ç”¨-path-ç»˜åˆ¶åœ†å½¢>ä½¿ç”¨ Path ç»˜åˆ¶åœ†å½¢</h3><p>æŸäº›åœºæ™¯ä¸‹éœ€å®ç°ä¸€äº›ç±»åœ†åŠ¨ç”»ï¼ˆç¤ºä¾‹äºŒã€ä¸‰ç­‰ï¼‰ï¼Œä½†åœ†å½¢æ˜¯æ— æ³•å®ç°è¿™ç§åŠ¨ç”»çš„ï¼Œè¿™æ—¶å€™å¯ä»¥é‡‡ç”¨ Path å®ç°ã€‚</p><p>åœ¨åˆå§‹çŠ¶æ€æœªè¿›è¡Œæ’­æ”¾æ—¶ï¼Œé»˜è®¤ä¼šæ˜¾ç¤ºä¸€ä¸ªåœ†å½¢ï¼Œè¿™æ˜¯ä¸ºäº†å‡å°‘åˆ›å»ºä¸€ä¸ªåœ†çš„å®ä¾‹ï¼Œå¯ä»¥ç›´æ¥åˆ©ç”¨ Path ç»˜åˆ¶å‡ºåœ†å½¢ï¼Œåç»­çš„åŠ¨ç”»ç›´æ¥æ›´æ”¹è¿™ä¸ª Path å®ä¾‹ã€‚</p><p>å¯ä»¥ä½¿ç”¨ 2 ä¸ªåœ†å¼§ç”Ÿæˆç”Ÿæˆä¸€ä¸ªåœ†å½¢çš„ Pathï¼Œ å‚è€ƒä»¥ä¸‹ä»£ç </p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#d73a49>export</span><span style=color:#d73a49> function</span><span style=color:#6f42c1> getCirclePath</span><span style=color:#24292e>(</span><span style=color:#e36209>cx</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>, </span><span style=color:#e36209>cy</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>, </span><span style=color:#e36209>r</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#d73a49>  return</span><span style=color:#032f62> `M ${</span><span style=color:#24292e>cx</span><span style=color:#d73a49> -</span><span style=color:#24292e> r</span><span style=color:#032f62>}, ${</span><span style=color:#24292e>cy</span><span style=color:#032f62>}</span></span>
<span class=line><span style=color:#032f62>  a ${</span><span style=color:#24292e>r</span><span style=color:#032f62>}, ${</span><span style=color:#24292e>r</span><span style=color:#032f62>} 0 1, 0 ${</span><span style=color:#24292e>r</span><span style=color:#d73a49> *</span><span style=color:#005cc5> 2</span><span style=color:#032f62>}, 0 </span></span>
<span class=line><span style=color:#032f62>  a ${</span><span style=color:#24292e>r</span><span style=color:#032f62>}, ${</span><span style=color:#24292e>r</span><span style=color:#032f62>} 0 1, 0 ${</span><span style=color:#d73a49>-</span><span style=color:#24292e>r</span><span style=color:#d73a49> *</span><span style=color:#005cc5> 2</span><span style=color:#032f62>}, 0`</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>}</span></span></code></pre></section><h3 id=é€šè¿‡ç‚¹å½¢æˆå¹³æ»‘æ›²çº¿>é€šè¿‡ç‚¹å½¢æˆå¹³æ»‘æ›²çº¿</h3><p>è‹¥ä»…ä»…æ˜¯å°†ç›®æ ‡ä¸€ç»„ç‚¹è¿æ¥æˆçº¿ï¼Œåœ¨è§†è§‰æ•ˆæœä¸Šä¼šæ˜¾å¾—å¾ˆçªå…€ï¼ŒåŠæ—¶æ”¹æ¢æˆ Path æ¥è¿æ¥æˆæ›²çº¿ä¹Ÿæ˜¯ä¸å¤Ÿå¹³æ»‘ã€‚</p><p>è¿™æ—¶å€™å¯ä»¥é‡‡ç”¨æ’å€¼æ³•ä¸ºè¿ç»­ç›®æ ‡ç‚¹å†æ’å…¥ä¸­é—´ç‚¹æ¥ä¸º Path æ›´åŠ å¹³æ»‘ï¼Œä¸€èˆ¬æ¥è¯´éƒ½æ˜¯é‡‡ç”¨<code>ä¸‰æ¬¡æ ·æ¡æ’å€¼</code>ç®—æ³•å®ç°ã€‚</p><p>åœ¨ d3 ä¸­å†…ç½®äº†å¾ˆå¤šè¿çº¿ç®—æ³•æ–¹æ¡ˆï¼Œå¯ä»¥ç›´æ¥é‡‡ç”¨ã€‚åœ¨æœ¬æ¬¡çš„ç¤ºä¾‹ä¸­ï¼Œé‡åˆ°å¤šä¸ªç‚¹ç”Ÿæˆå¹³æ»‘æ›²çº¿çš„éƒ½æ˜¯é‡‡ç”¨äº† d3 çš„<a href=https://d3js.org.cn/document/d3-shape/#curves target=_blank rel="noopener nofollow"><span>curveCardinalClosed</span></a>ç®—æ³•æ¥ç”Ÿæˆ Path è·¯å¾„ã€‚</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d>// s-path.tsx</span></span>
<span class=line><span style=color:#d73a49>import</span><span style=color:#24292e> { line, curveCardinalClosed } </span><span style=color:#d73a49>from</span><span style=color:#032f62> "d3"</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#6a737d>// some other code...</span></span>
<span class=line><span style=color:#6f42c1>useEffect</span><span style=color:#24292e>(() </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>  if</span><span style=color:#24292e> (props.data?.</span><span style=color:#005cc5>length</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> pathArr</span><span style=color:#d73a49>:</span><span style=color:#005cc5> any</span><span style=color:#24292e>[] </span><span style=color:#d73a49>=</span><span style=color:#24292e> [[], [], [], []];</span></span>
<span class=line><span style=color:#6f42c1>    getArray</span><span style=color:#24292e>(props.data).</span><span style=color:#6f42c1>map</span><span style=color:#24292e>((</span><span style=color:#e36209>item</span><span style=color:#24292e>, </span><span style=color:#e36209>index</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>      pathArr[index </span><span style=color:#d73a49>%</span><span style=color:#005cc5> 4</span><span style=color:#24292e>].</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span></span>
<span class=line><span style=color:#6f42c1>        getPointByIndex</span><span style=color:#24292e>(index, ((item </span><span style=color:#d73a49>*</span><span style=color:#24292e> item) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 65025</span><span style=color:#24292e>) </span><span style=color:#d73a49>*</span><span style=color:#005cc5> POINT_OFFSET</span><span style=color:#d73a49> +</span><span style=color:#005cc5> 4</span><span style=color:#24292e>)</span></span>
<span class=line><span style=color:#24292e>      );</span></span>
<span class=line><span style=color:#24292e>    });</span></span>
<span class=line><span style=color:#24292e>    pathArr.</span><span style=color:#6f42c1>map</span><span style=color:#24292e>((</span><span style=color:#e36209>item</span><span style=color:#24292e>, </span><span style=color:#e36209>index</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#6a737d>      // ä½¿ç”¨d3çš„curveCardinalClosedä¸ºç›®æ ‡ç‚¹æ•°ç»„æ’å€¼ç”Ÿæˆå¹³æ»‘æ›²çº¿Path</span></span>
<span class=line><span style=color:#d73a49>      const</span><span style=color:#005cc5> path</span><span style=color:#d73a49> =</span><span style=color:#6f42c1> line</span><span style=color:#24292e>()</span></span>
<span class=line><span style=color:#24292e>        .</span><span style=color:#6f42c1>x</span><span style=color:#24292e>((</span><span style=color:#e36209>d</span><span style=color:#d73a49>:</span><span style=color:#24292e> [</span><span style=color:#005cc5>number</span><span style=color:#24292e>, </span><span style=color:#005cc5>number</span><span style=color:#24292e>]) </span><span style=color:#d73a49>=></span><span style=color:#24292e> d[</span><span style=color:#005cc5>0</span><span style=color:#24292e>])</span></span>
<span class=line><span style=color:#24292e>        .</span><span style=color:#6f42c1>y</span><span style=color:#24292e>((</span><span style=color:#e36209>d</span><span style=color:#d73a49>:</span><span style=color:#24292e> [</span><span style=color:#005cc5>number</span><span style=color:#24292e>, </span><span style=color:#005cc5>number</span><span style=color:#24292e>]) </span><span style=color:#d73a49>=></span><span style=color:#24292e> d[</span><span style=color:#005cc5>1</span><span style=color:#24292e>])</span></span>
<span class=line><span style=color:#24292e>        .</span><span style=color:#6f42c1>curve</span><span style=color:#24292e>(curveCardinalClosed)(item);</span></span>
<span class=line><span style=color:#24292e>      sPathArr.current[index]?.</span><span style=color:#6f42c1>attr</span><span style=color:#24292e>(</span><span style=color:#032f62>"path"</span><span style=color:#24292e>, path);</span></span>
<span class=line><span style=color:#24292e>    });</span></span>
<span class=line><span style=color:#24292e>  }</span></span>
<span class=line><span style=color:#24292e>}, [props.data]);</span></span></code></pre></section><p><code>d3</code>å…¶ä»–å¹³æ»‘æ›²çº¿ç®—æ³•ç¤ºä¾‹å¯å‚è€ƒç¬”è€…åœ¨å¾ˆä¹…ä»¥å‰å†™çš„ Demo: <a href=https://kongfandong.cn/blog/d3-mulitpoint-connection/ target=_blank rel="noopener nofollow"><span>Click here</span></a></p><h3 id=åœ¨åœ†ä¸Šçš„ç‚¹è·Ÿéšåœ†æ”¾å¤§çš„åŒæ—¶åšåœ†å‘¨è¿åŠ¨>åœ¨åœ†ä¸Šçš„ç‚¹è·Ÿéšåœ†æ”¾å¤§çš„åŒæ—¶åšåœ†å‘¨è¿åŠ¨</h3><p><img alt=åœ†å‘¨è¿åŠ¨ src=/assets/images/lazy-loading.webp data-byt-lz-src=https://cdn.kongfandong.cn/img/blog/Hu7aUsYVJ2oQyLK.gif class=byt-article-img></p><p>ç¤ºä¾‹äº”ä¸­çš„åŠ¨ç”»ä¼šå‡ºç°åœ¨åœ†ä¸Šçš„ç‚¹è·Ÿéšåœ†æ”¾å¤§çš„åŒæ—¶åšåœ†å‘¨è¿åŠ¨ï¼Œè¿™ç§åŠ¨ç”»åœ¨å®ç°æ—¶æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š</p><p>ç¬¬ä¸€ç§ï¼Œæ˜¯å¤§åœ†åˆ©ç”¨ Path æ¨¡æ‹Ÿï¼Œç„¶ååŠ¨ç”»å¼€å§‹ååœ¨æ¯å¸§åŠ¨ç”»ä¸­ï¼Œåˆ©ç”¨<code>Path.getPoint(ratio: number)</code>è·å–å½“å‰å¤§åœ†ä¸­ç‚¹å½“å‰å¸§ä¸‹æŸä¸ªå¯¹åº”ç‚¹çš„åæ ‡ã€‚</p><p>ç¬¬äºŒç§ï¼Œæ˜¯ç›´æ¥è®¡ç®—å‡ºå½“å‰å¸§ä¸‹è¿™ä¸ªç‚¹åœ¨åœ†ä¸Šçš„ä½ç½®ï¼Œåˆ©ç”¨ä¸‰è§’å‡½æ•°ç»“åˆå¤§åœ†çš„æ”¾å¤§åç§»ç³»æ•°ä¸<code>ratio</code>å³å¯è®¡ç®—å‡ºå½“å‰ç‚¹åæ ‡ã€‚</p><p>åœ¨å®ç°ç¬¬ä¸€ç§æ–¹æ¡ˆæ—¶ï¼Œå‘ç°æ•ˆæœä¸å¤ªç†æƒ³ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯æœ‰ setTimeout çš„åŸå› ï¼Œå¼ƒç”¨äº†ç„¶åé€‰æ‹©äº†æ–¹æ¡ˆäºŒå®ç°ã€‚</p><p>éƒ¨åˆ†å‚è€ƒä»£ç å¦‚ä¸‹:</p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#24292e>Array.</span><span style=color:#6f42c1>from</span><span style=color:#24292e>({ length: </span><span style=color:#005cc5>CIRCLE_NUM</span><span style=color:#24292e> }, (</span><span style=color:#e36209>item</span><span style=color:#24292e>, </span><span style=color:#e36209>index</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>  circleArrStart.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#005cc5>false</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#6a737d>  // circleå¤§åœ†</span></span>
<span class=line><span style=color:#24292e>  circleArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#6f42c1>addCircle</span><span style=color:#24292e>());</span></span>
<span class=line><span style=color:#24292e>  circleArr.current[index].</span><span style=color:#6f42c1>animate</span><span style=color:#24292e>((</span><span style=color:#e36209>ratio</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>    return</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>      r: </span><span style=color:#005cc5>R</span><span style=color:#d73a49> +</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> CIRCLE_SCALE_OFFSET</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#6a737d>      // path: getCirclePath(X, Y, R + ratio * 80),</span></span>
<span class=line><span style=color:#24292e>      opacity: ratio </span><span style=color:#d73a49>></span><span style=color:#005cc5> 0.02</span><span style=color:#d73a49> &#x26;&#x26;</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>&#x3C;</span><span style=color:#005cc5> 0.9</span><span style=color:#d73a49> ?</span><span style=color:#005cc5> 0.8</span><span style=color:#d73a49> -</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 0.8</span><span style=color:#d73a49> :</span><span style=color:#005cc5> 0</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    };</span></span>
<span class=line><span style=color:#24292e>  }, animateOption);</span></span>
<span class=line><span style=color:#6a737d>  // circle-dotå¤§åœ†ä¸Šçš„ç‚¹</span></span>
<span class=line><span style=color:#24292e>  circleDotArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#6f42c1>addCircleDot</span><span style=color:#24292e>());</span></span>
<span class=line><span style=color:#24292e>  circleDotDegArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#005cc5>0</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#24292e>  circleDotArr.current[index].</span><span style=color:#6f42c1>animate</span><span style=color:#24292e>((</span><span style=color:#e36209>ratio</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>    if</span><span style=color:#24292e> (props.data </span><span style=color:#d73a49>&#x26;&#x26;</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>&#x3C;</span><span style=color:#005cc5> 0.05</span><span style=color:#d73a49> &#x26;&#x26;</span><span style=color:#d73a49> !</span><span style=color:#24292e>circleDotDegArr.current[index]) {</span></span>
<span class=line><span style=color:#24292e>      circleDotDegArr.current[index] </span><span style=color:#d73a49>=</span><span style=color:#6f42c1> pickStartPoint</span><span style=color:#24292e>();</span></span>
<span class=line><span style=color:#24292e>    } </span><span style=color:#d73a49>else</span><span style=color:#d73a49> if</span><span style=color:#24292e> (ratio </span><span style=color:#d73a49>></span><span style=color:#005cc5> 0.9</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#24292e>      circleDotDegArr.current[index] </span><span style=color:#d73a49>=</span><span style=color:#005cc5> 0</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>    }</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> deg</span><span style=color:#d73a49> =</span><span style=color:#24292e> circleDotDegArr.current[index] </span><span style=color:#d73a49>+</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 360</span><span style=color:#d73a49> -</span><span style=color:#005cc5> 180</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> l</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>cos</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> t</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>sin</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> r</span><span style=color:#d73a49> =</span><span style=color:#005cc5> R</span><span style=color:#d73a49> +</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> CIRCLE_SCALE_OFFSET</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>    return</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>      x: </span><span style=color:#005cc5>X</span><span style=color:#d73a49> +</span><span style=color:#24292e> l </span><span style=color:#d73a49>*</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      y: </span><span style=color:#005cc5>Y</span><span style=color:#d73a49> +</span><span style=color:#24292e> t </span><span style=color:#d73a49>*</span><span style=color:#24292e> r,</span></span>
<span class=line><span style=color:#24292e>      r: </span><span style=color:#005cc5>DOT_R</span><span style=color:#d73a49> *</span><span style=color:#24292e> (</span><span style=color:#005cc5>1</span><span style=color:#d73a49> -</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 2</span><span style=color:#24292e>),</span></span>
<span class=line><span style=color:#24292e>      opacity: ratio </span><span style=color:#d73a49>></span><span style=color:#005cc5> 0.05</span><span style=color:#d73a49> &#x26;&#x26;</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>&#x3C;</span><span style=color:#005cc5> 0.9</span><span style=color:#d73a49> ?</span><span style=color:#005cc5> 0.8</span><span style=color:#d73a49> -</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 0.8</span><span style=color:#d73a49> :</span><span style=color:#005cc5> 0</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>    };</span></span>
<span class=line><span style=color:#24292e>  }, animateOption);</span></span>
<span class=line><span style=color:#24292e>});</span></span></code></pre></section><h3 id=ç²’å­ç‰¹æ•ˆçš„å®ç°>ç²’å­ç‰¹æ•ˆçš„å®ç°</h3><p>ç¤ºä¾‹å…­æ˜¯ä¸€ä¸ªç²’å­ç‰¹æ•ˆæ•ˆæœï¼Œä¹Ÿæ˜¯å®ç°è¿™ä¹ˆå¤šç¤ºä¾‹ä¸­è€—æ—¶æ¯”è¾ƒå¤šçš„ä¸€ä¸ªï¼Œè¿™é‡Œæ‹¿å‡ºæ¥è¯´ä¸€ä¸‹å®ç°åŸç†ã€‚</p><p>ä¸å…¶ä»–ç¤ºä¾‹ä¸€æ ·åˆå§‹åŒ–æ—¶ï¼Œå…ˆåˆå§‹åŒ–å‡ºä¸“è¾‘åœ†å½¢å›¾ã€‚</p><p>ç„¶åå‡†å¤‡åˆå§‹åŒ–ç²’å­ï¼Œå®šä¹‰åœ†å½¢ä½œä¸ºç²’å­å½¢çŠ¶ï¼Œå°½é‡å°ä¸€ç‚¹ï¼Œå¯ä»¥å¼€å¯é˜´å½±æ•ˆæœï¼Œä½†æ˜¯æ€§èƒ½ä¼šå¾ˆå·®ï¼Œè¿™æ¬¡å°±æŠŠ Shadow é˜´å½±å…³é—­äº†ã€‚</p><p>å®šä¹‰æ¯ä¸ªå–æ ·ç‚¹å‘¨å›´çš„ç²’å­æ•°ï¼Œå½“å‰ä¸º 64 ä¸ªéŸ³é¢‘æ ·ç‚¹ï¼Œä¸€ä¸ªæ ·ç‚¹è®¾ç½® 12 ä¸ªç²’å­ï¼ˆå¯ä»¥æ›´å¤šï¼ŒåŒæ ·è¶Šå¤šå°±çº¦è€—èƒ½ï¼‰ï¼Œæœ€ç»ˆç²’å­æ•°ä¸º 64 X 12 ä¸ªã€‚</p><p>ä½¿ç”¨éšæœºå€¼ç”Ÿæˆç²’å­æ ·ç‚¹ï¼Œè¿™é‡Œå¯ä»¥ä½¿ç”¨æ ·ç‚¹å½“å‰è§’åº¦å†éšæœºåç§»ä¸€å®šé‡å³å¯ç”Ÿæˆå‡åŒ€çš„ç²’å­ã€‚</p><p>ç²’å­æ•ˆæœçš„æ¯”è¾ƒéš¾çš„åœ¨äºåŠ¨ç”»ä¸Šï¼Œè¦é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„æ¼‚æµ®åŠ¨ç”»å‡½æ•°ã€‚è¿™æ¬¡ç¤ºä¾‹é€‰æ‹©äº†<code>æ­£å¼¦å‡½æ•°</code>å®ç°å·¦å³å‡åŒ€æ¼‚æµ®ï¼Œåœ¨åŠ ä¸Šåˆ©ç”¨<code>setTimeout</code>éšæœºå»¶è¿Ÿç²’å­ç”Ÿæˆæ—¶é—´å³å¯å®Œæˆç²’å­æŒ‰ä¸€å®šè§„å¾‹ä¸‹æ¼‚æµ®çš„åŠ¨ç”»ã€‚</p><p>å®šä¹‰ç²’å­åŠ¨ç”»æ—¶ï¼Œé€šè¿‡æ­£å¼¦å‡½æ•°ä¸ ratio è®¡ç®—å‡ºæ¯å¸§ç²’å­çš„å®é™… x,y åæ ‡å³å¯ã€‚å› ä¸ºè¿™æ¬¡è¿˜ä¼šç»“åˆå½“å‰éŸ³é¢‘æ•°æ®ï¼Œè®©æŸä¸ªæ ·ç‚¹çš„ç²’å­é£˜å¾—é«˜ä¸€ç‚¹ï¼Œè®©ç²’å­çš„åç§»é‡åŠ å¤§ï¼Œè¿™æ—¶è¿˜éœ€è¦è¿›ä¸€æ­¥å¯¹åŠ¨ç”»è¿›è¡Œæ›´æ”¹ã€‚</p><p><img alt=ç²’å­ç‰¹æ•ˆ src=/assets/images/lazy-loading.webp data-byt-lz-src=https://p9-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/2e05ae8b50c0438687d24c69d1845f14~tplv-k3u1fbpfcp-zoom-in-crop-mark:1304:0:0:0.awebp class=byt-article-img></p><section class=byt-code-box><span class=byt-code-copy></span><pre class="astro-code github-light" data-language=ts style=background-color:#fff;color:#24292e;overflow-x:auto tabindex=0><code><span class=line><span style=color:#6a737d>// POINT_NUM = 64 æ ·ç‚¹æ•°</span></span>
<span class=line><span style=color:#6a737d>// PARTICLE_NUM = 12 æ ·ç‚¹å‘¨å›´ç²’å­æ•°</span></span>
<span class=line><span style=color:#24292e>Array.</span><span style=color:#6f42c1>from</span><span style=color:#24292e>({ length: </span><span style=color:#005cc5>POINT_NUM</span><span style=color:#24292e> }, (</span><span style=color:#e36209>point</span><span style=color:#24292e>, </span><span style=color:#e36209>index1</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>  Array.</span><span style=color:#6f42c1>from</span><span style=color:#24292e>({ length: </span><span style=color:#005cc5>PARTICLE_NUM</span><span style=color:#24292e> }, (</span><span style=color:#e36209>particle</span><span style=color:#24292e>, </span><span style=color:#e36209>index2</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> deg</span><span style=color:#d73a49> =</span><span style=color:#24292e> index1 </span><span style=color:#d73a49>*</span><span style=color:#24292e> (</span><span style=color:#005cc5>360</span><span style=color:#d73a49> /</span><span style=color:#005cc5> POINT_NUM</span><span style=color:#24292e>) </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 150</span><span style=color:#d73a49> +</span><span style=color:#24292e> (Math.</span><span style=color:#6f42c1>random</span><span style=color:#24292e>() </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 0.5</span><span style=color:#24292e>) </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 10</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> l</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>cos</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> t</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>sin</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> r</span><span style=color:#d73a49> =</span><span style=color:#005cc5> R</span><span style=color:#d73a49> +</span><span style=color:#005cc5> OFFSET</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> x</span><span style=color:#d73a49> =</span><span style=color:#005cc5> X</span><span style=color:#d73a49> +</span><span style=color:#24292e> l </span><span style=color:#d73a49>*</span><span style=color:#24292e> r;</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> y</span><span style=color:#d73a49> =</span><span style=color:#005cc5> Y</span><span style=color:#d73a49> +</span><span style=color:#24292e> t </span><span style=color:#d73a49>*</span><span style=color:#24292e> r;</span></span>
<span class=line><span style=color:#d73a49>    const</span><span style=color:#005cc5> particleShape</span><span style=color:#d73a49> =</span><span style=color:#24292e> (canvas.current </span><span style=color:#d73a49>as</span><span style=color:#6f42c1> Canvas</span><span style=color:#24292e>).</span><span style=color:#6f42c1>addShape</span><span style=color:#24292e>(</span><span style=color:#032f62>"circle"</span><span style=color:#24292e>, {</span></span>
<span class=line><span style=color:#24292e>      attrs: {</span></span>
<span class=line><span style=color:#24292e>        x,</span></span>
<span class=line><span style=color:#24292e>        y,</span></span>
<span class=line><span style=color:#24292e>        r: </span><span style=color:#005cc5>0.8</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        fill: </span><span style=color:#032f62>"#fff"</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        opacity: </span><span style=color:#005cc5>0</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#6a737d>        // âš å¼€å¯é˜´å½±ä¼šæ‰å¸§</span></span>
<span class=line><span style=color:#6a737d>        // shadowColor: '#fcc8d9',</span></span>
<span class=line><span style=color:#6a737d>        // shadowBlur: 1</span></span>
<span class=line><span style=color:#24292e>      },</span></span>
<span class=line><span style=color:#24292e>    });</span></span>
<span class=line><span style=color:#24292e>    particleShape.</span><span style=color:#6f42c1>animate</span><span style=color:#24292e>(</span></span>
<span class=line><span style=color:#24292e>      (</span><span style=color:#e36209>ratio</span><span style=color:#d73a49>:</span><span style=color:#005cc5> number</span><span style=color:#24292e>) </span><span style=color:#d73a49>=></span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#d73a49>        const</span><span style=color:#005cc5> deg</span><span style=color:#d73a49> =</span><span style=color:#24292e> index1 </span><span style=color:#d73a49>*</span><span style=color:#24292e> (</span><span style=color:#005cc5>360</span><span style=color:#d73a49> /</span><span style=color:#005cc5> POINT_NUM</span><span style=color:#24292e>) </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 150</span><span style=color:#d73a49> +</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>sin</span><span style=color:#24292e>(ratio </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 20</span><span style=color:#24292e>) </span><span style=color:#d73a49>*</span><span style=color:#005cc5> 4</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>        const</span><span style=color:#005cc5> l</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>cos</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>        const</span><span style=color:#005cc5> t</span><span style=color:#d73a49> =</span><span style=color:#24292e> Math.</span><span style=color:#6f42c1>sin</span><span style=color:#24292e>((deg </span><span style=color:#d73a49>*</span><span style=color:#24292e> Math.</span><span style=color:#005cc5>PI</span><span style=color:#24292e>) </span><span style=color:#d73a49>/</span><span style=color:#005cc5> 180</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#d73a49>        const</span><span style=color:#005cc5> _index</span><span style=color:#d73a49> =</span><span style=color:#005cc5> POINT_NUM</span><span style=color:#d73a49> *</span><span style=color:#24292e> index1 </span><span style=color:#d73a49>+</span><span style=color:#24292e> index2;</span></span>
<span class=line><span style=color:#d73a49>        if</span><span style=color:#24292e> (particleActiveArr.current[_index]) {</span></span>
<span class=line><span style=color:#d73a49>          if</span><span style=color:#24292e> (ratio </span><span style=color:#d73a49>&#x3C;</span><span style=color:#005cc5> 0.02</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#24292e>            particleActiveArr.current[_index] </span><span style=color:#d73a49>=</span></span>
<span class=line><span style=color:#24292e>              index1 </span><span style=color:#d73a49>>=</span><span style=color:#24292e> currentActiveIndex.current </span><span style=color:#d73a49>-</span><span style=color:#005cc5> 1</span><span style=color:#d73a49> &#x26;&#x26;</span></span>
<span class=line><span style=color:#24292e>              index1 </span><span style=color:#d73a49>&#x3C;=</span><span style=color:#24292e> currentActiveIndex.current </span><span style=color:#d73a49>+</span><span style=color:#005cc5> 1</span></span>
<span class=line><span style=color:#d73a49>                ?</span><span style=color:#005cc5> POINT_ACTIVE_MOVE_LENGTH</span></span>
<span class=line><span style=color:#d73a49>                :</span><span style=color:#005cc5> POINT_MOVE_LENGTH</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>          } </span><span style=color:#d73a49>else</span><span style=color:#d73a49> if</span><span style=color:#24292e> (ratio </span><span style=color:#d73a49>></span><span style=color:#005cc5> 0.98</span><span style=color:#24292e>) {</span></span>
<span class=line><span style=color:#24292e>            particleActiveArr.current[_index] </span><span style=color:#d73a49>=</span><span style=color:#005cc5> POINT_MOVE_LENGTH</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#24292e>          }</span></span>
<span class=line><span style=color:#24292e>        }</span></span>
<span class=line><span style=color:#d73a49>        const</span><span style=color:#005cc5> offset</span><span style=color:#d73a49> =</span><span style=color:#24292e> particleActiveArr.current[_index] </span><span style=color:#d73a49>||</span><span style=color:#005cc5> POINT_MOVE_LENGTH</span><span style=color:#24292e>;</span></span>
<span class=line><span style=color:#d73a49>        return</span><span style=color:#24292e> {</span></span>
<span class=line><span style=color:#24292e>          x: x </span><span style=color:#d73a49>+</span><span style=color:#24292e> l </span><span style=color:#d73a49>*</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#24292e> offset,</span></span>
<span class=line><span style=color:#24292e>          y: y </span><span style=color:#d73a49>+</span><span style=color:#24292e> t </span><span style=color:#d73a49>*</span><span style=color:#24292e> ratio </span><span style=color:#d73a49>*</span><span style=color:#24292e> offset,</span></span>
<span class=line><span style=color:#24292e>          opacity: </span><span style=color:#005cc5>1</span><span style=color:#d73a49> -</span><span style=color:#24292e> ratio,</span></span>
<span class=line><span style=color:#24292e>        };</span></span>
<span class=line><span style=color:#24292e>      },</span></span>
<span class=line><span style=color:#24292e>      {</span></span>
<span class=line><span style=color:#24292e>        duration: </span><span style=color:#005cc5>POINT_CREATE_DELAY</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        repeat: </span><span style=color:#005cc5>true</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>        easing: </span><span style=color:#032f62>"easeSinInOut"</span><span style=color:#24292e>,</span></span>
<span class=line><span style=color:#24292e>      }</span></span>
<span class=line><span style=color:#24292e>    );</span></span>
<span class=line><span style=color:#24292e>    particleArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(particleShape);</span></span>
<span class=line><span style=color:#24292e>    particleStartArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#005cc5>false</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#24292e>    particleActiveArr.current.</span><span style=color:#6f42c1>push</span><span style=color:#24292e>(</span><span style=color:#005cc5>POINT_MOVE_LENGTH</span><span style=color:#24292e>);</span></span>
<span class=line><span style=color:#24292e>  });</span></span>
<span class=line><span style=color:#24292e>});</span></span></code></pre></section><h2 id=å…¶ä»–è¯´æ˜>å…¶ä»–è¯´æ˜</h2><p>è¿™ä¸ªé¡¹ç›®æ˜¯ä¸€ä¸ªç»ƒæ‰‹é¡¹ç›®ï¼ŒåŸºäº<code>vite</code>ã€<code>React</code>ã€<code>Typescript</code>ï¼Œå› ä¸º react å¹³æ—¶ç”¨çš„ä¸å¤šï¼Œé¡¹ç›®ä¸­å­˜åœ¨ä»€ä¹ˆé—®é¢˜æˆ–å†™çš„ä¸å¥½çš„åœ°æ–¹æ¬¢è¿æŒ‡ç‚¹ã€‚</p><p>æˆ–è€…æœ‰ä»€ä¹ˆå¥½çœ‹çš„ç‰¹æ•ˆä¹Ÿå¯ä»¥æ ISSUE æˆ– PR äº¤æµä¸€ä¸‹æ€ä¹ˆå®ç°ã€‚</p><ul><li><p>é¡¹ç›® Github: <a href=https://github.com/leon-kfd/g-music-visualizer target=_blank><strong>Click Here</strong></a></p></li><li><p>é¡¹ç›® Demo: <a href=https://leon-kfd.github.io/g-music-visualizer/ target=_blank><strong>Click Here</strong></a></p></li></ul><section class=tag-list></section></main><footer><section class=byt-copyright><p>æœ¬æ–‡ç”± <span>boycot</span> äº 2021-06-29 å‡Œæ™¨ å‘å¸ƒ</p><p>æ–‡ç« åœ°å€ï¼š<a href=https://astro-blog.boycot.top/article/åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ>åˆ©ç”¨Gæ¸²æŸ“å™¨å®ç°çš„éŸ³é¢‘å¯è§†åŒ–æ–¹æ¡ˆ</a></p><p>æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href=https://creativecommons.org/licenses/by-nc-sa/4.0 target=_blank rel="noopener nofollow">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚å®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href=https://astro-blog.boycot.top>boycot</a>ï¼</p><svg viewBox="0 0 496 512" xmlns=http://www.w3.org/2000/svg><path d="M245.8 214.9l-33.2 17.3c-9.4-19.6-25.2-19.9-27.5-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.6 9.2 43.8 33.2 43.8 14.5 0 24.7-7.1 30.6-21.3l30.6 15.5c-6.2 11.5-25.7 39-65.1 39-22.6 0-74-10.3-74-77.1 0-58.7 43-77.1 72.6-77.1 30.7 0 52.7 12 66 35.9zm143.1 0l-32.8 17.3c-9.5-19.8-25.7-19.9-27.9-19.9-22.1 0-33.2 14.6-33.2 43.8 0 23.6 9.2 43.8 33.2 43.8 14.5 0 24.7-7.1 30.5-21.3l31 15.5c-2.1 3.8-21.4 39-65.1 39-22.7 0-74-9.9-74-77.1 0-58.7 43-77.1 72.6-77.1 30.7 0 52.6 12 65.6 35.9zM247.6 8.1C104.7 8.1 0 123.1 0 256.1c0 138.5 113.6 248 247.6 248 129.9 0 248.4-100.9 248.4-248 0-137.9-106.6-248-248.4-248zm.9 450.8c-112.5 0-203.7-93-203.7-202.8 0-105.4 85.4-203.3 203.7-203.3 112.5 0 202.8 89.5 202.8 203.3 0 121.7-99.7 202.8-202.8 202.8z"></path></svg></section></footer><section class=byt-comment><section><section class=byt-space-loading><span></span><span></span><span></span></section></section></section></article></section><aside class=byt-aside><section class="byt-aside-item user"><img alt=boycot src=/assets/images/lazy-loading.webp data-byt-lz-src=https://boycot2015.github.io/picx-images-hosting/avatar/avatar.7pnvyzg2f.webp class=byt-aside-avatar> <span class=byt-aside-auther>boycot</span><p class=byt-aside-motto>è¶ŠåŠªåŠ›è¶Šå¹¸è¿.</p><section class=byt-aside-links><a href=https://github.com/boycot2015 target=_blank class=byt-aside-links-item rel="noopener nofollow" title=Github><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=3 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-github"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"/></svg> </a><a href=https://api.boycot.top target=_blank class=byt-aside-links-item rel="noopener nofollow" title=boycotAPI><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-api"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M4 13h5"/><path d="M12 16v-8h3a2 2 0 0 1 2 2v1a2 2 0 0 1 -2 2h-3"/><path d="M20 8v8"/><path d="M9 16v-5.5a2.5 2.5 0 0 0 -5 0v5.5"/></svg> </a><a href=https://news.boycot.top target=_blank class=byt-aside-links-item rel="noopener nofollow" title=æ¯æ—¥çƒ­æ¦œ><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2 height=24 width=24 class="icon icon-tabler icons-tabler-outline icon-tabler-brand-tinder"><path d="M0 0h24v24H0z" fill=none stroke=none /><path d="M18.918 8.174c2.56 4.982 .501 11.656 -5.38 12.626c-7.702 1.687 -12.84 -7.716 -7.054 -13.229c.309 -.305 1.161 -1.095 1.516 -1.349c0 .528 .27 3.475 1 3.167c3 0 4 -4.222 3.587 -7.389c2.7 1.411 4.987 3.376 6.331 6.174z"/></svg></a></section><section class=byt-aside-info><div class="count art-item"><span>38</span><p>æ–‡ç« æ•°</p></div><div class="count cat-item"><span>16</span><p>åˆ†ç±»æ•°</p></div><div class="count tag-item"><span>24</span><p>æ ‡ç­¾æ•°</p></div></section><canvas class=byt-aside-canvas height=1888 width=888></canvas></section><section class="byt-aside-item tips"><span><svg viewBox="0 0 24 24" xmlns=http://www.w3.org/2000/svg fill=none stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=2><path d="M0 0h24v24H0z" fill=none stroke=none></path><path d="M3 9.662c2 2.338 2 4.338 0 6.338c3 .5 4.5 1 5 4c2 -3 6 -4 9 0c0 -3 1 -4 4 -4.004q -3 -2.995 0 -5.996c-3 0 -5 -2 -5 -5c-2 4 -5 3 -7.5 -1c-.5 3 -2.5 5 -5.5 5.662"></path></svg> å…¬å‘Š</span><div class=tips-content><p>æ¬¢è¿å…‰ä¸´æˆ‘çš„åšå®¢ ğŸ‰</p><p>è¿™é‡Œä¼šåˆ†äº«æˆ‘çš„æ—¥å¸¸å’Œå­¦ä¹ ä¸­çš„æ”¶é›†ã€æ•´ç†åŠæ€»ç»“ï¼Œå¸Œæœ›èƒ½å¯¹ä½ æœ‰æ‰€å¸®åŠ©:) ğŸ’–</p></div></section><section class="byt-aside-item cat"><h3>åˆ†ç±»</h3><div class=byt-aside-cat><a href=/categories/æ¡†æ¶><span>æ¡†æ¶</span> <i>4</i> </a><a href=/categories/æ¸¸æˆ><span>æ¸¸æˆ</span> <i>2</i> </a><a href=/categories/php><span>php</span> <i>1</i> </a><a href=/categories/css><span>css</span> <i>1</i> </a><a href=/categories/equb.js><span>equb.js</span> <i>1</i> </a><a href=/categories/é˜…è¯»><span>é˜…è¯»</span> <i>1</i> </a><a href=/categories/ai><span>ai</span> <i>1</i> </a><a href=/categories/typecho><span>typecho</span> <i>1</i> </a><a href=/categories/hexoä¸»é¢˜><span>hexoä¸»é¢˜</span> <i>1</i> </a><a href=/categories/Nodejs><span>Nodejs</span> <i>1</i> </a><a href=/categories/ssh><span>ssh</span> <i>1</i> </a><a href=/categories/element-plusä¸»é¢˜><span>element-plusä¸»é¢˜</span> <i>1</i> </a><a href=/categories/å·¥å…·><span>å·¥å…·</span> <i>1</i> </a><a href=/categories/astrojs><span>astrojs</span> <i>1</i> </a><a href=/categories/é­…æ—><span>é­…æ—</span> <i>1</i> </a><a href=/categories/åŠ¨ç”»><span>åŠ¨ç”»</span> <i>1</i></a></div></section><section class="byt-aside-item tags"><h3>çƒ­é—¨æ ‡ç­¾</h3><div class=byt-aside-tags><a href=/tag/javascript><span>javascript</span> <em>5</em> </a><a href=/tag/astro><span>astro</span> <em>3</em> </a><a href=/tag/ai><span>ai</span> <em>2</em> </a><a href=/tag/æ¸¸æˆ><span>æ¸¸æˆ</span> <em>2</em> </a><a href=/tag/php><span>php</span> <em>1</em> </a><a href=/tag/css><span>css</span> <em>1</em> </a><a href=/tag/ellipsis><span>ellipsis</span> <em>1</em> </a><a href=/tag/equb.js><span>equb.js</span> <em>1</em> </a><a href=/tag/NestJS><span>NestJS</span> <em>1</em> </a><a href=/tag/NuxtJS><span>NuxtJS</span> <em>1</em> </a><a href=/tag/NextJS><span>NextJS</span> <em>1</em> </a><a href=/tag/aplayer><span>aplayer</span> <em>1</em> </a><a href=/tag/Typecho><span>Typecho</span> <em>1</em> </a><a href=/tag/hexo><span>hexo</span> <em>1</em> </a><a href=/tag/Node><span>Node</span> <em>1</em> </a><a href=/tag/ssh><span>ssh</span> <em>1</em> </a><a href=/tag/element-plus><span>element-plus</span> <em>1</em> </a><a href=/tag/ä¸»é¢˜><span>ä¸»é¢˜</span> <em>1</em> </a><a href=/tag/vue3><span>vue3</span> <em>1</em> </a><a href=/tag/é­…æ—21><span>é­…æ—21</span> <em>1</em> </a><a href=/tag/åŠ¨ç”»><span>åŠ¨ç”»</span> <em>1</em> </a><a href=/tag/element-ui><span>element-ui</span> <em>1</em> </a><a href=/tag/test><span>test</span> <em>1</em> </a><a href=/tag/markdown><span>markdown</span> <em>1</em></a></div></section><section class=sticky-aside><section class="byt-aside-item articles"><h3>æ¨èæ–‡ç« </h3><div class=byt-aside-articles><a href=/article/æœ¬åœ°phpç¯å¢ƒå®‰è£…><span><i>1</i> <cite class=byt-ellipsis>æœ¬åœ°phpç¯å¢ƒå®‰è£…</cite> </span><time>2025-03-12 ä¸­åˆ</time> </a><a href=/article/cssæ–‡æœ¬è¶…å‡ºä¸€å®šèŒƒå›´åæ˜¾ç¤ºçœç•¥å·><span><i>2</i> <cite class=byt-ellipsis>cssæ–‡æœ¬è¶…å‡ºä¸€å®šèŒƒå›´åæ˜¾ç¤ºçœç•¥å·</cite> </span><time>2025-03-11 å‡Œæ™¨</time> </a><a href=/article/ä½¿ç”¨epub.jsè§£æepubæ–‡ä»¶><span><i>3</i> <cite class=byt-ellipsis>ä½¿ç”¨epub.jsè§£æepubæ–‡ä»¶</cite> </span><time>2025-02-25 ä¸­åˆ</time> </a><a href=/article/ã€Šæ¯›æ¦‚ã€‹è¯»åæ„Ÿ><span><em>4.</em> <cite class=byt-ellipsis>ã€Šæ¯›æ¦‚ã€‹è¯»åæ„Ÿ</cite> </span><time>2025-02-17 ä¸‹åˆ</time> </a><a href=/article/NestJSå…¥é—¨æŒ‡å—><span><em>5.</em> <cite class=byt-ellipsis>NestJSå…¥é—¨æŒ‡å—</cite> </span><time>2025-02-17 å‡Œæ™¨</time> </a><a href=/article/jså®ç°ä¿„ç½—æ–¯æ–¹å—><span><em>6.</em> <cite class=byt-ellipsis>jså®ç°ä¿„ç½—æ–¯æ–¹å—</cite> </span><time>2025-02-17 å‡Œæ™¨</time></a></div></section></section></aside></section><section class=byt-back-top><svg viewBox="0 0 24 24"><defs><linearGradient id=Gradient x1=0% x2=100% y1=0% y2=0%><stop offset=0% style=stop-color:blue;stop-opacity:1></stop><stop offset=50% style=stop-color:violet;stop-opacity:1></stop><stop offset=100% style=stop-color:indigo;stop-opacity:1></stop></linearGradient></defs><circle cx=12 cy=12 fill=none r=10 stroke=url(#Gradient) stroke-linecap=round stroke-width=2 transform="rotate(-90, 12, 12)"></circle></svg> <svg viewBox="0 0 24 24" class=icon><path d="m6 15l6-6l6 6" fill=none stroke=#000 stroke-linecap=round stroke-linejoin=round stroke-width=2></path></svg></section></main><footer class=byt-footer><main><p></p><p><span><svg viewBox="0 0 512 512" xmlns=http://www.w3.org/2000/svg><path d="M269.4 2.9C265.2 1 260.7 0 256 0s-9.2 1-13.4 2.9L54.3 82.8c-22 9.3-38.4 31-38.3 57.2c.5 99.2 41.3 280.7 213.6 363.2c16.7 8 36.1 8 52.8 0C454.7 420.7 495.5 239.2 496 140c.1-26.2-16.3-47.9-38.3-57.2L269.4 2.9zM144 221.3c0-33.8 27.4-61.3 61.3-61.3c16.2 0 31.8 6.5 43.3 17.9l7.4 7.4 7.4-7.4c11.5-11.5 27.1-17.9 43.3-17.9c33.8 0 61.3 27.4 61.3 61.3c0 16.2-6.5 31.8-17.9 43.3l-82.7 82.7c-6.2 6.2-16.4 6.2-22.6 0l-82.7-82.7c-11.5-11.5-17.9-27.1-17.9-43.3z" fill=#fff></path></svg><cite>ç¨³å®šè¿è¡Œ</cite><em class=web_time></em></span><a href=https://astro.build/ target=_blank rel="noopener noreferrer"><img alt=Astro src=/assets/images/footer/astro.svg></a><a href=https://github.com/uxiaohan/bytAstro-Theme target=_blank rel="noopener noreferrer"><img alt=bytAstro-Theme src=/assets/images/footer/theme.svg></a><a href=/sitemap-index.xml target=_blank><img alt=sitemap src=/assets/images/footer/sitemap.svg></a><a href=/rss.xml target=_blank><img alt=rss src=/assets/images/footer/rss.svg></a><a href=https://beian.miit.gov.cn/ target=_blank rel="noopener noreferrer"><img alt=ç²¤ICPå¤‡18002072å· src=https://img.shields.io/badge/%E7%B2%A4ICP%E5%A4%87-18002072%E5%8F%B7-red></a></p></main></footer><script src=/js/byt-Layout.astro_astro_type_script_index_0_lang-DY-X9LOf.js type=module></script></body></html>